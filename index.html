<!DOCTYPE html>
<html>
<header>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <!-- we import arjs version without NFT but with marker + location based support -->
    <script src="aframe-ar.js"></script>
    <script  src="index.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="index.css" rel="stylesheet" type="text/css">
    <script src="speech.js"></script>
</header>
<body onload="fillSelectMenu()">
<h2 id="recoSpeech"></h2>
<div id="nextbutton">
    <select class="form-select" id="selectMenu" onchange="onSelect(this.value)">
    </select>
    <button type="button"  onclick="startSpeech()" id="startSpeech" class="btn btn-primary">Talk</button>
</div>

<a-scene embedded
         renderer="logarithmicDepthBuffer: true;"
         arjs='sourceType: webcam; patternRatio: 0.5 trackingMethod: best maxDetectionRate: 3 detectionMode: mono'
         renderer='antialias: true; alpha: true; precision: medium;'
         smooth="true"

         vr-mode-ui="enabled: false"
         arjs>
    <a-marker preset='custom' type='pattern' url='marker/pattern-g.patt'
                     smoothCount=0 smoothTolerance=0.00001 emitevents="true">
  <a-entity
    id="robot"
    class="cantap"
    gltf-model="src: url(models/RobotExpressive.glb)"
    gltf-morph="morphtarget: Sad; value:1"
    animation-mixer="clip: Idle; loop: repeat"
    animation="
      property: gltf-morph.value;
      from: 0;
      to: 0;
      loop: once;
      dir: alternate;
      easing: easeInOutQuad;"
    position="0 0 -2"
    scale="0.5 0.5 0.5"
    shadow>
  </a-entity>

    </a-marker>
</a-scene>
</body>
</html>
